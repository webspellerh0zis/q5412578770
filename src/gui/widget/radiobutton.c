/* ***************************************************************************
 * radiobutton.c -- LCUI‘s RadioButton widget
 * 
 * Copyright (C) 2012-2013 by
 * Liu Chao
 * 
 * This file is part of the LCUI project, and may only be used, modified, and
 * distributed under the terms of the GPLv2.
 * 
 * (GPLv2 is abbreviation of GNU General Public License Version 2)
 * 
 * By continuing to use, modify, or distribute this file you indicate that you
 * have read the license and understand and accept it fully.
 *  
 * The LCUI project is distributed in the hope that it will be useful, but 
 * WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY 
 * or FITNESS FOR A PARTICULAR PURPOSE. See the GPL v2 for more details.
 * 
 * You should have received a copy of the GPLv2 along with this file. It is 
 * usually in the LICENSE.TXT file, If not, see <http://www.gnu.org/licenses/>.
 * ****************************************************************************/
 
/* ****************************************************************************
 * radiobutton.c -- LCUI 的单选框部件
 *
 * 版权所有 (C) 2012-2013 归属于
 * 刘超
 * 
 * 这个文件是LCUI项目的一部分，并且只可以根据GPLv2许可协议来使用、更改和发布。
 *
 * (GPLv2 是 GNU通用公共许可证第二版 的英文缩写)
 * 
 * 继续使用、修改或发布本文件，表明您已经阅读并完全理解和接受这个许可协议。
 * 
 * LCUI 项目是基于使用目的而加以散布的，但不负任何担保责任，甚至没有适销性或特
 * 定用途的隐含担保，详情请参照GPLv2许可协议。
 *
 * 您应已收到附随于本文件的GPLv2许可协议的副本，它通常在LICENSE.TXT文件中，如果
 * 没有，请查看：<http://www.gnu.org/licenses/>. 
 * ****************************************************************************/

#include <LCUI_Build.h>
#include LC_LCUI_H
#include LC_WIDGET_H
#include LC_LABEL_H
#include LC_PICBOX_H
#include LC_RADIOBTN_H
#include LC_GRAPH_H
#include LC_RES_H
#include LC_INPUT_H

static LCUI_Queue mutex_lib;
static int mutex_lib_init = 0; /* 标志，是否初始化过 */


enum IMG_Type {
	IMG_OFF_NORMAL,
	IMG_OFF_SELECTED,
	IMG_OFF_DISABLED,
	IMG_ON_NORMAL,
	IMG_ON_SELECTED,
	IMG_ON_DISABLED,
	IMG_TOTAL_NUM
};

static unsigned RadioButton[6][4][15*15] = {
	{
		{0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xd2,0x7b,0x54,
		0x42,0x54,0x7b,0xd2,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0x9d,0x46,0xb1,0xeb,0xff,0xeb,0xb1,0x46,0x9d,0xff,0xff,
		0xff,0xff,0xff,0x8d,0x95,0xeb,0xff,0xfa,0xf9,0xfa,0xff,
		0xeb,0x92,0x8d,0xff,0xff,0xff,0xc9,0x70,0xfd,0xfd,0xf9,
		0xf9,0xf9,0xf9,0xf9,0xfd,0xfd,0x70,0xc9,0xff,0xff,0x81,
		0xbd,0xff,0xf9,0xf9,0xf9,0xf9,0xf9,0xf9,0xf9,0xff,0xbd,
		0x81,0xff,0xff,0x57,0xeb,0xfb,0xf9,0xf9,0xf9,0xf9,0xf9,
		0xf9,0xf9,0xfb,0xeb,0x57,0xff,0xff,0x4a,0xfa,0xfa,0xfa,
		0xfa,0xfa,0xfa,0xfa,0xfa,0xfa,0xfa,0xfa,0x4a,0xff,0xff,
		0x59,0xeb,0xfc,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xfc,
		0xeb,0x59,0xff,0xff,0x83,0xbe,0xff,0xfb,0xfb,0xfb,0xfb,
		0xfb,0xfb,0xfb,0xff,0xbe,0x83,0xff,0xff,0xca,0x73,0xff,
		0xfd,0xfb,0xfb,0xfb,0xfb,0xfb,0xfd,0xff,0x73,0xca,0xff,
		0xff,0xff,0x8b,0x98,0xf3,0xff,0xfc,0xfb,0xfc,0xff,0xf3,
		0x98,0x8b,0xff,0xff,0xff,0xff,0xff,0x9a,0x4b,0xb6,0xee,
		0xff,0xee,0xb6,0x4b,0x9a,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xd2,0x81,0x59,0x49,0x59,0x81,0xd2,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff},
		{0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xdc,0x98,0x7a,
		0x6b,0x7a,0x98,0xdc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xb3,0x71,0xc3,0xef,0xff,0xef,0xc3,0x71,0xb3,0xff,0xff,
		0xff,0xff,0xff,0xa7,0xad,0xf0,0xff,0xfc,0xfb,0xfc,0xff,
		0xf0,0xac,0xa7,0xff,0xff,0xff,0xd6,0x92,0xfd,0xfe,0xfb,
		0xfb,0xfb,0xfb,0xfb,0xfe,0xfd,0x92,0xd6,0xff,0xff,0xa1,
		0xce,0xff,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xff,0xce,
		0xa1,0xff,0xff,0x83,0xf1,0xfc,0xfb,0xfb,0xfb,0xfb,0xfb,
		0xfb,0xfb,0xfc,0xf1,0x83,0xff,0xff,0x7b,0xfc,0xfc,0xfc,
		0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0x7b,0xff,0xff,
		0x88,0xf1,0xfd,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfd,
		0xf1,0x88,0xff,0xff,0xa7,0xd1,0xff,0xfc,0xfc,0xfc,0xfc,
		0xfc,0xfc,0xfc,0xff,0xd1,0xa7,0xff,0xff,0xd9,0x9d,0xff,
		0xfe,0xfc,0xfc,0xfc,0xfc,0xfc,0xfe,0xff,0x9d,0xd9,0xff,
		0xff,0xff,0xaf,0xb7,0xf6,0xff,0xfd,0xfc,0xfd,0xff,0xf6,
		0xb7,0xaf,0xff,0xff,0xff,0xff,0xff,0xba,0x83,0xcd,0xf3,
		0xff,0xf3,0xcd,0x83,0xba,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xdf,0xa9,0x8e,0x83,0x8e,0xa9,0xdf,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff},
		{0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xe0,0xa9,0x90,
		0x84,0x90,0xa9,0xe0,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xbf,0x89,0xcd,0xf2,0xff,0xf2,0xcd,0x89,0xbf,0xff,0xff,
		0xff,0xff,0xff,0xb6,0xbc,0xf3,0xff,0xfc,0xfb,0xfc,0xff,
		0xf3,0xbb,0xb6,0xff,0xff,0xff,0xdc,0xa6,0xfe,0xfe,0xfb,
		0xfb,0xfb,0xfb,0xfb,0xfe,0xfe,0xa6,0xdc,0xff,0xff,0xb2,
		0xd7,0xff,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xff,0xd7,
		0xb2,0xff,0xff,0x9c,0xf4,0xfc,0xfb,0xfb,0xfb,0xfb,0xfb,
		0xfb,0xfb,0xfc,0xf4,0x9c,0xff,0xff,0x97,0xfc,0xfc,0xfc,
		0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0x97,0xff,0xff,
		0xa3,0xf4,0xfd,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfd,
		0xf4,0xa3,0xff,0xff,0xbb,0xdc,0xff,0xfc,0xfc,0xfc,0xfc,
		0xfc,0xfc,0xfc,0xff,0xdc,0xbb,0xff,0xff,0xe1,0xb5,0xff,
		0xfe,0xfc,0xfc,0xfc,0xfc,0xfc,0xfe,0xff,0xb5,0xe1,0xff,
		0xff,0xff,0xc3,0xca,0xf9,0xff,0xfd,0xfc,0xfd,0xff,0xf9,
		0xca,0xc3,0xff,0xff,0xff,0xff,0xff,0xcb,0xa5,0xdb,0xf6,
		0xff,0xf6,0xdb,0xa5,0xcb,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xe6,0xc0,0xae,0xa7,0xae,0xc0,0xe6,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,
		0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,
		0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00}
	},
	{
		{0xff,0xff,0xff,0xff,0xc1,0x75,0x4b,0x3a,0x4b,0x75,0xc1,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x89,0x3b,0x3f,0x41,
		0x42,0x41,0x3f,0x3b,0x89,0xff,0xff,0xff,0xff,0xff,0x3a,
		0x3e,0x42,0xb1,0xeb,0xff,0xeb,0xb1,0x42,0x3e,0x3a,0xff,
		0xff,0xff,0x85,0x3f,0x95,0xeb,0xff,0xfa,0xf9,0xfa,0xff,
		0xeb,0x92,0x3f,0x85,0xff,0xc4,0x3d,0x70,0xfd,0xfd,0xf9,
		0xf9,0xf9,0xf9,0xf9,0xfd,0xfd,0x70,0x3d,0xc4,0x7a,0x41,
		0xbd,0xff,0xf9,0xf9,0xf9,0xf9,0xf9,0xf9,0xf9,0xff,0xbd,
		0x41,0x7a,0x4b,0x44,0xeb,0xfb,0xf9,0xf9,0xf9,0xf9,0xf9,
		0xf9,0xf9,0xfb,0xeb,0x44,0x4b,0x3d,0x45,0xfa,0xfa,0xfa,
		0xfa,0xfa,0xfa,0xfa,0xfa,0xfa,0xfa,0xfa,0x45,0x3d,0x4b,
		0x45,0xeb,0xfc,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xfc,
		0xeb,0x45,0x4b,0x7a,0x43,0xbe,0xff,0xfb,0xfb,0xfb,0xfb,
		0xfb,0xfb,0xfb,0xff,0xbe,0x43,0x7a,0xc4,0x3d,0x73,0xff,
		0xfd,0xfb,0xfb,0xfb,0xfb,0xfb,0xfd,0xff,0x73,0x3d,0xc4,
		0xff,0x82,0x43,0x98,0xf3,0xff,0xfc,0xfb,0xfc,0xff,0xf3,
		0x98,0x43,0x82,0xff,0xff,0xff,0x3a,0x42,0x48,0xb6,0xee,
		0xff,0xee,0xb6,0x48,0x42,0x3a,0xff,0xff,0xff,0xff,0xff,
		0x86,0x3d,0x45,0x48,0x49,0x48,0x45,0x3d,0x86,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xc1,0x75,0x4a,0x3a,0x4a,0x75,
		0xc1,0xff,0xff,0xff,0xff},
		{0xff,0xff,0xff,0xff,0xe0,0xc1,0xb0,0xa9,0xb0,0xc1,0xe0,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xca,0x9d,0x80,0x72,
		0x6b,0x72,0x80,0x9d,0xca,0xff,0xff,0xff,0xff,0xff,0xa7,
		0x8c,0x6f,0xc3,0xef,0xff,0xef,0xc3,0x6f,0x8c,0xa8,0xff,
		0xff,0xff,0xc8,0x87,0xad,0xf0,0xff,0xfc,0xfb,0xfc,0xff,
		0xf0,0xac,0x87,0xc8,0xff,0xe2,0x9b,0x92,0xfd,0xfe,0xfb,
		0xfb,0xfb,0xfb,0xfb,0xfe,0xfd,0x92,0x9b,0xe2,0xc3,0x86,
		0xce,0xff,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xff,0xce,
		0x86,0xc3,0xb0,0x7b,0xf1,0xfc,0xfb,0xfb,0xfb,0xfb,0xfb,
		0xfb,0xfb,0xfc,0xf1,0x7b,0xb0,0xaa,0x79,0xfc,0xfc,0xfc,
		0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0x79,0xaa,0xb0,
		0x7f,0xf1,0xfd,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfd,
		0xf1,0x7f,0xb0,0xc3,0x8c,0xd1,0xff,0xfc,0xfc,0xfc,0xfc,
		0xfc,0xfc,0xfc,0xff,0xd1,0x8c,0xc3,0xe2,0x9e,0x9d,0xff,
		0xfe,0xfc,0xfc,0xfc,0xfc,0xfc,0xfe,0xff,0x9d,0x9e,0xe2,
		0xff,0xc6,0x90,0xb7,0xf6,0xff,0xfd,0xfc,0xfd,0xff,0xf6,
		0xb7,0x90,0xc6,0xff,0xff,0xff,0xa8,0x95,0x83,0xcd,0xf3,
		0xff,0xf3,0xcd,0x83,0x95,0xa8,0xff,0xff,0xff,0xff,0xff,
		0xc9,0xa2,0x90,0x88,0x83,0x88,0x90,0xa2,0xc9,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xe0,0xc1,0xb0,0xa9,0xb0,0xc1,
		0xe0,0xff,0xff,0xff,0xff},
		{0xff,0xff,0xff,0xff,0xf7,0xfc,0xfe,0xff,0xfe,0xfc,0xf7,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xfb,0xe9,0xad,0x91,
		0x84,0x91,0xad,0xe9,0xfb,0xff,0xff,0xff,0xff,0xff,0xfc,
		0xc4,0x88,0xcd,0xf2,0xff,0xf2,0xcd,0x88,0xc4,0xfd,0xff,
		0xff,0xff,0xfb,0xbb,0xbc,0xf3,0xff,0xfc,0xfb,0xfc,0xff,
		0xf3,0xbb,0xbb,0xfb,0xff,0xf7,0xe4,0xa6,0xfe,0xfe,0xfb,
		0xfb,0xfb,0xfb,0xfb,0xfe,0xfe,0xa6,0xe4,0xf7,0xfc,0xb6,
		0xd7,0xff,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xfb,0xff,0xd7,
		0xb6,0xfc,0xfe,0x9d,0xf4,0xfc,0xfb,0xfb,0xfb,0xfb,0xfb,
		0xfb,0xfb,0xfc,0xf4,0x9d,0xfe,0xff,0x98,0xfc,0xfc,0xfc,
		0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0x98,0xff,0xfe,
		0xa4,0xf4,0xfd,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfc,0xfd,
		0xf4,0xa4,0xfe,0xfc,0xbf,0xdc,0xff,0xfc,0xfc,0xfc,0xfc,
		0xfc,0xfc,0xfc,0xff,0xdc,0xbf,0xfc,0xf7,0xe8,0xb5,0xff,
		0xfe,0xfc,0xfc,0xfc,0xfc,0xfc,0xfe,0xff,0xb5,0xe8,0xf7,
		0xff,0xfb,0xc7,0xca,0xf9,0xff,0xfd,0xfc,0xfd,0xff,0xf9,
		0xca,0xc7,0xfb,0xff,0xff,0xff,0xfd,0xd0,0xa4,0xdb,0xf6,
		0xff,0xf6,0xdb,0xa4,0xd0,0xfd,0xff,0xff,0xff,0xff,0xff,
		0xfb,0xee,0xc4,0xb0,0xa7,0xb0,0xc4,0xee,0xfb,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xf7,0xfc,0xff,0xff,0xff,0xfc,
		0xf7,0xff,0xff,0xff,0xff},
		{0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,
		0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0x00,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0x00,0x00,0x00,0x00}
	},
	{
		{0},
		{0},
		{0},
		{0}
	},
	{
		{0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xd2,0x7b,0x54,
		0x42,0x54,0x7b,0xd2,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0x9d,0x46,0xb1,0xeb,0xff,0xeb,0xb1,0x46,0x9d,0xff,0xff,
		0xff,0xff,0xff,0x8d,0x95,0xeb,0xff,0xfa,0xf9,0xfa,0xff,
		0xeb,0x92,0x8d,0xff,0xff,0xff,0xc9,0x70,0xfd,0xfd,0xf9,
		0xf9,0xf9,0xf9,0xf9,0xfd,0xfd,0x70,0xc9,0xff,0xff,0x81,
		0xbd,0xff,0xf9,0xce,0x30,0x01,0x30,0xce,0xf9,0xff,0xbd,
		0x81,0xff,0xff,0x57,0xeb,0xfb,0xf9,0x2e,0x01,0x01,0x01,
		0x2c,0xf9,0xfb,0xeb,0x57,0xff,0xff,0x4a,0xfa,0xfa,0xf1,
		0x01,0x01,0x00,0x01,0x01,0xf1,0xfa,0xfa,0x4a,0xff,0xff,
		0x59,0xeb,0xfc,0xfb,0x2e,0x01,0x01,0x01,0x2c,0xfb,0xfc,
		0xeb,0x59,0xff,0xff,0x83,0xbe,0xff,0xfb,0xcf,0x2f,0x01,
		0x2f,0xcf,0xfb,0xff,0xbe,0x83,0xff,0xff,0xca,0x73,0xff,
		0xfd,0xfb,0xfb,0xfb,0xfb,0xfb,0xfd,0xff,0x73,0xca,0xff,
		0xff,0xff,0x8b,0x98,0xf3,0xff,0xfc,0xfb,0xfc,0xff,0xf3,
		0x98,0x8b,0xff,0xff,0xff,0xff,0xff,0x9a,0x4b,0xb6,0xee,
		0xff,0xee,0xb6,0x4b,0x9a,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xd2,0x81,0x59,0x49,0x59,0x81,0xd2,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff},
		{0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xdc,0x98,0x7a,
		0x6b,0x7a,0x98,0xdc,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xb3,0x71,0xc3,0xef,0xff,0xef,0xc3,0x71,0xb3,0xff,0xff,
		0xff,0xff,0xff,0xa7,0xad,0xf0,0xff,0xfc,0xfb,0xfc,0xff,
		0xf0,0xac,0xa7,0xff,0xff,0xff,0xd6,0x92,0xfd,0xfe,0xfb,
		0xfb,0xfb,0xfb,0xfb,0xfe,0xfd,0x92,0xd6,0xff,0xff,0xa1,
		0xce,0xff,0xfb,0xd8,0x60,0x3c,0x60,0xd8,0xfb,0xff,0xce,
		0xa1,0xff,0xff,0x83,0xf1,0xfc,0xfb,0x5d,0x3f,0x41,0x3f,
		0x5b,0xfb,0xfc,0xf1,0x83,0xff,0xff,0x7b,0xfc,0xfc,0xf5,
		0x3c,0x41,0x45,0x41,0x3c,0xf5,0xfc,0xfc,0x7b,0xff,0xff,
		0x88,0xf1,0xfd,0xfc,0x5d,0x3f,0x41,0x3f,0x5b,0xfc,0xfd,
		0xf1,0x88,0xff,0xff,0xa7,0xd1,0xff,0xfc,0xd9,0x5e,0x3c,
		0x5e,0xd9,0xfc,0xff,0xd1,0xa7,0xff,0xff,0xd9,0x9d,0xff,
		0xfe,0xfc,0xfc,0xfc,0xfc,0xfc,0xfe,0xff,0x9d,0xd9,0xff,
		0xff,0xff,0xaf,0xb7,0xf6,0xff,0xfd,0xfc,0xfd,0xff,0xf6,
		0xb7,0xaf,0xff,0xff,0xff,0xff,0xff,0xba,0x83,0xcd,0xf3,
		0xff,0xf3,0xcd,0x83,0xba,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xdf,0xa9,0x8e,0x83,0x8e,0xa9,0xdf,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff},
		{0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xe0,0xa9,0x90,
		0x84,0x90,0xa9,0xe0,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xbf,0x89,0xcd,0xf2,0xff,0xf2,0xcd,0x89,0xbf,0xff,0xff,
		0xff,0xff,0xff,0xb6,0xbc,0xf3,0xff,0xfc,0xfb,0xfc,0xff,
		0xf3,0xbb,0xb6,0xff,0xff,0xff,0xdc,0xa6,0xfe,0xfe,0xfb,
		0xfb,0xfb,0xfb,0xfb,0xfe,0xfe,0xa6,0xdc,0xff,0xff,0xb2,
		0xd7,0xff,0xfb,0xe1,0x85,0x6c,0x85,0xe1,0xfb,0xff,0xd7,
		0xb2,0xff,0xff,0x9c,0xf4,0xfc,0xfb,0x83,0x72,0x76,0x72,
		0x81,0xfb,0xfc,0xf4,0x9c,0xff,0xff,0x97,0xfc,0xfc,0xf6,
		0x6c,0x76,0x7e,0x76,0x6c,0xf6,0xfc,0xfc,0x97,0xff,0xff,
		0xa3,0xf4,0xfd,0xfc,0x83,0x72,0x76,0x72,0x82,0xfc,0xfd,
		0xf4,0xa3,0xff,0xff,0xbb,0xdc,0xff,0xfc,0xe1,0x83,0x6c,
		0x83,0xe1,0xfc,0xff,0xdc,0xbb,0xff,0xff,0xe1,0xb5,0xff,
		0xfe,0xfc,0xfc,0xfc,0xfc,0xfc,0xfe,0xff,0xb5,0xe1,0xff,
		0xff,0xff,0xc3,0xca,0xf9,0xff,0xfd,0xfc,0xfd,0xff,0xf9,
		0xca,0xc3,0xff,0xff,0xff,0xff,0xff,0xcb,0xa5,0xdb,0xf6,
		0xff,0xf6,0xdb,0xa5,0xcb,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xe6,0xc0,0xae,0xa7,0xae,0xc0,0xe6,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff},
		{0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,
		0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,
		0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
		0x00,0x00,0x00,0x00,0x00}
	},
	{
		{0xff,0xff,0xff,0xff,0xc1,0x75,0x4b,0x3a,0x4b,0x75,0xc1,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x89,0x3b,0x3f,0x41,
		0x42,0x41,0x3f,0x3b,0x89,0xe4,0xff,0xff,0xff,0xd2,0x3a,
		0x3e,0x42,0xb1,0xeb,0xff,0xeb,0xb1,0x42,0x3e,0x3a,0xd2,
		0xff,0xff,0x85,0x3f,0x95,0xeb,0xff,0xfa,0xf9,0xfa,0xff,
		0xeb,0x92,0x3f,0x85,0xff,0xc4,0x3d,0x70,0xfd,0xfd,0xf9,
		0xf9,0xf9,0xf9,0xf9,0xfd,0xfd,0x70,0x3d,0xc4,0x7a,0x41,
		0xbd,0xff,0xf9,0xce,0x30,0x01,0x30,0xce,0xf9,0xff,0xbd,
		0x41,0x7a,0x4b,0x44,0xeb,0xfb,0xf9,0x2e,0x01,0x01,0x01,
		0x2c,0xf9,0xfb,0xeb,0x44,0x4b,0x3d,0x45,0xfa,0xfa,0xf1,
		0x01,0x01,0x00,0x01,0x01,0xf1,0xfa,0xfa,0x45,0x3d,0x4b,
		0x45,0xeb,0xfc,0xfb,0x2e,0x01,0x01,0x01,0x2c,0xfb,0xfc,
		0xeb,0x45,0x4b,0x7a,0x43,0xbe,0xff,0xfb,0xcf,0x2f,0x01,
		0x2f,0xcf,0xfb,0xff,0xbe,0x43,0x7a,0xc4,0x3d,0x73,0xff,
		0xfd,0xfb,0xfb,0xfb,0xfb,0xfb,0xfd,0xff,0x73,0x3d,0xc4,
		0xff,0x82,0x43,0x98,0xf3,0xff,0xfc,0xfb,0xfc,0xff,0xf3,
		0x98,0x43,0x82,0xff,0xff,0xce,0x3a,0x42,0x48,0xb6,0xee,
		0xff,0xee,0xb6,0x48,0x42,0x3a,0xce,0xff,0xff,0xff,0xdc,
		0x86,0x3d,0x45,0x48,0x49,0x48,0x45,0x3d,0x86,0xdc,0xff,
		0xff,0xff,0xff,0xff,0xff,0xc1,0x75,0x4a,0x3a,0x4a,0x75,
		0xc1,0xff,0xff,0xff,0xff},
		{0xff,0xff,0xff,0xff,0xe0,0xc1,0xb0,0xa9,0xb0,0xc1,0xe0,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xca,0x9d,0x80,0x72,
		0x6b,0x72,0x80,0x9d,0xca,0xef,0xff,0xff,0xff,0xe8,0xa7,
		0x8c,0x6f,0xc3,0xef,0xff,0xef,0xc3,0x6f,0x8c,0xa8,0xe8,
		0xff,0xff,0xc8,0x87,0xad,0xf0,0xff,0xfc,0xfb,0xfc,0xff,
		0xf0,0xac,0x87,0xc8,0xff,0xe2,0x9b,0x92,0xfd,0xfe,0xfb,
		0xfb,0xfb,0xfb,0xfb,0xfe,0xfd,0x92,0x9b,0xe2,0xc3,0x86,
		0xce,0xff,0xfb,0xd8,0x60,0x3c,0x60,0xd8,0xfb,0xff,0xce,
		0x86,0xc3,0xb0,0x7b,0xf1,0xfc,0xfb,0x5d,0x3f,0x41,0x3f,
		0x5b,0xfb,0xfc,0xf1,0x7b,0xb0,0xaa,0x79,0xfc,0xfc,0xf5,
		0x3c,0x41,0x45,0x41,0x3c,0xf5,0xfc,0xfc,0x79,0xaa,0xb0,
		0x7f,0xf1,0xfd,0xfc,0x5d,0x3f,0x41,0x3f,0x5b,0xfc,0xfd,
		0xf1,0x7f,0xb0,0xc3,0x8c,0xd1,0xff,0xfc,0xd9,0x5e,0x3c,
		0x5e,0xd9,0xfc,0xff,0xd1,0x8c,0xc3,0xe2,0x9e,0x9d,0xff,
		0xfe,0xfc,0xfc,0xfc,0xfc,0xfc,0xfe,0xff,0x9d,0x9e,0xe2,
		0xff,0xc6,0x90,0xb7,0xf6,0xff,0xfd,0xfc,0xfd,0xff,0xf6,
		0xb7,0x90,0xc6,0xff,0xff,0xe7,0xa8,0x95,0x83,0xcd,0xf3,
		0xff,0xf3,0xcd,0x83,0x95,0xa8,0xe7,0xff,0xff,0xff,0xec,
		0xc9,0xa2,0x90,0x88,0x83,0x88,0x90,0xa2,0xc9,0xec,0xff,
		0xff,0xff,0xff,0xff,0xff,0xe0,0xc1,0xb0,0xa9,0xb0,0xc1,
		0xe0,0xff,0xff,0xff,0xff},
		{0xff,0xff,0xff,0xff,0xf7,0xfc,0xfe,0xff,0xfe,0xfc,0xf7,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xfb,0xe9,0xad,0x91,
		0x84,0x91,0xad,0xe9,0xfb,0xf5,0xff,0xff,0xff,0xf6,0xfc,
		0xc4,0x88,0xcd,0xf2,0xff,0xf2,0xcd,0x88,0xc4,0xfd,0xf6,
		0xff,0xff,0xfb,0xbb,0xbc,0xf3,0xff,0xfc,0xfb,0xfc,0xff,
		0xf3,0xbb,0xbb,0xfb,0xff,0xf7,0xe4,0xa6,0xfe,0xfe,0xfb,
		0xfb,0xfb,0xfb,0xfb,0xfe,0xfe,0xa6,0xe4,0xf7,0xfc,0xb6,
		0xd7,0xff,0xfb,0xe1,0x85,0x6c,0x85,0xe1,0xfb,0xff,0xd7,
		0xb6,0xfc,0xfe,0x9d,0xf4,0xfc,0xfb,0x83,0x72,0x76,0x72,
		0x81,0xfb,0xfc,0xf4,0x9d,0xfe,0xff,0x98,0xfc,0xfc,0xf6,
		0x6c,0x76,0x7e,0x76,0x6c,0xf6,0xfc,0xfc,0x98,0xff,0xfe,
		0xa4,0xf4,0xfd,0xfc,0x83,0x72,0x76,0x72,0x82,0xfc,0xfd,
		0xf4,0xa4,0xfe,0xfc,0xbf,0xdc,0xff,0xfc,0xe1,0x83,0x6c,
		0x83,0xe1,0xfc,0xff,0xdc,0xbf,0xfc,0xf7,0xe8,0xb5,0xff,
		0xfe,0xfc,0xfc,0xfc,0xfc,0xfc,0xfe,0xff,0xb5,0xe8,0xf7,
		0xff,0xfb,0xc7,0xca,0xf9,0xff,0xfd,0xfc,0xfd,0xff,0xf9,
		0xca,0xc7,0xfb,0xff,0xff,0xf7,0xfd,0xd0,0xa4,0xdb,0xf6,
		0xff,0xf6,0xdb,0xa4,0xd0,0xfd,0xf7,0xff,0xff,0xff,0xf6,
		0xfb,0xee,0xc4,0xb0,0xa7,0xb0,0xc4,0xee,0xfb,0xf6,0xff,
		0xff,0xff,0xff,0xff,0xff,0xf7,0xfc,0xff,0xff,0xff,0xfc,
		0xf7,0xff,0xff,0xff,0xff},
		{0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0x00,0x00,0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0x00,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0x00,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,0x00,0x00,0xff,
		0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0xff,0x00,
		0x00,0x00,0x00,0x00,0x00,0xff,0xff,0xff,0xff,0xff,0xff,
		0xff,0x00,0x00,0x00,0x00}
	},
	{
		{0},
		{0},
		{0},
		{0}
	}
};

static int RadioButton_LoadDefaultGraph( LCUI_Graph *buff, int img_res_id )
{
	int size;
	if( img_res_id >= IMG_TOTAL_NUM ) {
		return -1;
	}
	if( Graph_IsValid( buff ) ) {
		Graph_Free( buff );
	}
	Graph_Init( buff );
	buff->color_type = COLOR_TYPE_RGBA;;
	buff->alpha = 255;
	size = 15*15*sizeof(unsigned char);
	if( Graph_Create( buff, 15, 15 ) != 0 ) {
		return -2;
	}
	memcpy( buff->rgba[0], RadioButton[img_res_id][0], size );
	memcpy( buff->rgba[1], RadioButton[img_res_id][1], size );
	memcpy( buff->rgba[2], RadioButton[img_res_id][2], size );
	memcpy( buff->rgba[3], RadioButton[img_res_id][3], size );
	return 0;
}


static void __Destroy_MutexData( void *arg )
{
	LCUI_Queue *queue;
	queue = (LCUI_Queue*)arg;
	Queue_Destroy( queue );
}

/* 将单选框从互斥关系链中移除 */
LCUI_API void
RadioButton_DeleteMutex( LCUI_Widget *widget )
{
	int i, total;
	LCUI_Widget *tmp;
	LCUI_RadioButton *rb;
	
	rb = (LCUI_RadioButton *)Widget_GetPrivData(widget);
	total = Queue_GetTotal(rb->mutex);
	for(i=0; i<total; ++i) {
		tmp = (LCUI_Widget*)Queue_Get(rb->mutex, i);
		if(tmp == widget) {
			Queue_DeletePointer(rb->mutex, i);
			break;
		}
	}
}

/* 为两个单选框建立互斥关系 */
LCUI_API void
RadioButton_CreateMutex( LCUI_Widget *a, LCUI_Widget *b )
{
	LCUI_Queue *p, queue;
	LCUI_RadioButton *rb_a, *rb_b;
	if(mutex_lib_init == 0) {
		Queue_Init(&mutex_lib, sizeof(LCUI_Queue), __Destroy_MutexData);
		mutex_lib_init = 1;
	}
	
	rb_a = (LCUI_RadioButton *)Widget_GetPrivData(a);
	rb_b = (LCUI_RadioButton *)Widget_GetPrivData(b);
	
	if( !rb_a->mutex ) {
		if( !rb_b->mutex ) {
			Queue_Init(&queue, sizeof(LCUI_Widget*), NULL);
			/* 将子队列添加至父队列 */
			p = (LCUI_Queue*)Queue_Add(&mutex_lib, &queue);
			/* 添加指针至队列 */
			Queue_AddPointer(p, a);
			Queue_AddPointer(p, b);
			/* 保存指向关系队列的指针 */
			rb_a->mutex = p;
			rb_b->mutex = p;
		} else {
			Queue_AddPointer(rb_b->mutex, a);
			rb_a->mutex = rb_b->mutex;
		}
	} else {
		if( !rb_b->mutex ) {
			Queue_AddPointer(rb_a->mutex, b);
			rb_b->mutex = rb_a->mutex;
		} else {/* 否则，两个都和其它部件有互斥关系，需要将它们拆开，并重新建立互斥关系 */
			RadioButton_DeleteMutex(a);
			RadioButton_DeleteMutex(b);
			RadioButton_CreateMutex(a, b);
		}
	}
}

/* 设定单选框为选中状态 */
LCUI_API void
RadioButton_SetOn( LCUI_Widget *widget )
{
	LCUI_RadioButton *radio_button;
	LCUI_Widget *other;
	int i, total;
	
	radio_button = Widget_GetPrivData(widget); 
	/* 如果与其它部件有互斥关系，就将其它单选框部件的状态改为“未选中”状态 */
	if( radio_button->mutex ) {
		total = Queue_GetTotal(radio_button->mutex);
		for(i=0; i<total; ++i) {
			other = (LCUI_Widget*)Queue_Get(radio_button->mutex, i);
			RadioButton_SetOff(other);
		}
	}
	radio_button->on = TRUE;
	Widget_Draw(widget);
}

/* 设定单选框为未选中状态 */
LCUI_API void
RadioButton_SetOff( LCUI_Widget *widget )
{
	LCUI_RadioButton *radio_button;
	radio_button = Widget_GetPrivData(widget); 
	radio_button->on = FALSE;
	Widget_Draw(widget);
}

/* 检测单选框是否被选中 */
LCUI_API LCUI_BOOL
RadioButton_IsOn( LCUI_Widget *widget )
{
	LCUI_RadioButton *radio_button;
	radio_button = Widget_GetPrivData(widget); 
	return radio_button->on;
}

/* 检测单选框是否未选中 */
LCUI_API int
RadioButton_IsOff( LCUI_Widget *widget )
{
	LCUI_RadioButton *radio_button;
	radio_button = Widget_GetPrivData(widget); 
	return !radio_button->on;
}

static void
RadioButton_Click( LCUI_Widget *widget, LCUI_WidgetEvent *unused )
{ 
	if(RadioButton_IsOff(widget)) {
		RadioButton_SetOn(widget); 
	}
}

/* 设定单选框中的图像框的尺寸 */
LCUI_API void
RadioButton_ImgBox_SetSize(LCUI_Widget *widget, LCUI_Size size)
{
	LCUI_Widget *imgbox;
	if(size.w <= 0 && size.h <= 0) {
		return;
	}
	imgbox = RadioButton_GetImgBox(widget);
	Widget_Resize(imgbox, size);
	/* 由于没有布局盒子，不能自动调整部件间的间隔，暂时用这个方法 */
	Widget_SetAlign(imgbox->parent, ALIGN_MIDDLE_LEFT, Pos(size.w, 0));
}

/* 初始化单选框部件的数据 */
static void 
RadioButton_Init( LCUI_Widget *widget )
{
	int valid_state;
	LCUI_Widget *container[2];
	LCUI_RadioButton *radio_button;
	
	radio_button = Widget_NewPrivData(widget, sizeof(LCUI_RadioButton));
	radio_button->on = FALSE;
	/* 初始化图片数据 */ 
	Graph_Init(&radio_button->img_off_disable);
	Graph_Init(&radio_button->img_off_normal);
	Graph_Init(&radio_button->img_off_focus);
	Graph_Init(&radio_button->img_off_down);
	Graph_Init(&radio_button->img_off_over);
	Graph_Init(&radio_button->img_on_disable);
	Graph_Init(&radio_button->img_on_normal);
	Graph_Init(&radio_button->img_on_focus);
	Graph_Init(&radio_button->img_on_down);
	Graph_Init(&radio_button->img_on_over);
	
	radio_button->mutex = NULL;
	
	radio_button->label = Widget_New("label");/* 创建label部件 */
	radio_button->imgbox = Widget_New("picture_box"); /* 创建图像框部件 */
	/* 创建两个容器，用于调整上面两个部件的位置 */
	container[0] = Widget_New(NULL);
	container[1] = Widget_New(NULL);
	
	/* 启用这些部件的自动尺寸调整的功能 */
	Widget_SetAutoSize( widget, TRUE, AUTOSIZE_MODE_GROW_AND_SHRINK );
	Widget_SetAutoSize( container[0], TRUE, AUTOSIZE_MODE_GROW_AND_SHRINK );
	Widget_SetAutoSize( container[1], TRUE, AUTOSIZE_MODE_GROW_AND_SHRINK );
	
	Widget_Container_Add(container[0], radio_button->imgbox);
	Widget_Container_Add(container[1], radio_button->label);
	Widget_Container_Add(widget, container[0]);
	Widget_Container_Add(widget, container[1]);
	
	/* 调整尺寸 */
	Widget_Resize(radio_button->imgbox, Size(15, 15));
	/* 调整布局 */
	Widget_SetAlign(container[0], ALIGN_MIDDLE_LEFT, Pos(0,0));
	Widget_SetAlign(container[1], ALIGN_MIDDLE_LEFT, Pos(17,0));
	Widget_SetAlign(radio_button->imgbox, ALIGN_MIDDLE_CENTER, Pos(0,0));
	Widget_SetAlign(radio_button->label, ALIGN_MIDDLE_CENTER, Pos(0,0));
	
	PictureBox_SetSizeMode(radio_button->imgbox, SIZE_MODE_STRETCH);
	
	/* 显示之 */
	Widget_Show(radio_button->label);
	Widget_Show(radio_button->imgbox);
	Widget_Show(container[0]);
	Widget_Show(container[1]);
	
	Widget_ConnectEvent( widget, EVENT_CLICKED, RadioButton_Click );
	
	valid_state = (WIDGET_STATE_NORMAL | WIDGET_STATE_ACTIVE);
	valid_state |= (WIDGET_STATE_DISABLE | WIDGET_STATE_OVERLAY);
	Widget_SetValidState( widget, valid_state);
}

/* 更新单选框的图形数据 */
static void RadioButton_ExecUpdate( LCUI_Widget *widget )
{
	int img_id;
	LCUI_Graph *img_ptr;
	LCUI_RadioButton *radio_button;
	
	radio_button = (LCUI_RadioButton*)Widget_GetPrivData(widget);
	/* 如果为自定义风格，那就使用用户指定的图形 */ 	
	if( _LCUIString_Cmp(&widget->style_name, "custom") == 0 ) {
		if(widget->enabled == FALSE)  {
			widget->state = WIDGET_STATE_DISABLE;
		}
		switch(widget->state) {
		case WIDGET_STATE_NORMAL:
			if(radio_button->on) {
				img_ptr = &radio_button->img_on_normal;
			} else {
				img_ptr = &radio_button->img_off_normal;
			}
			break;
		case WIDGET_STATE_OVERLAY :
			if(radio_button->on) {
				img_ptr = &radio_button->img_on_over;
			} else {
				img_ptr = &radio_button->img_off_over;
			}
			break;
		case WIDGET_STATE_ACTIVE : 
			if(radio_button->on) {
				img_ptr = &radio_button->img_on_down;
			} else {
				img_ptr = &radio_button->img_off_down;
			}
			break;
		case WIDGET_STATE_DISABLE :
			if(radio_button->on) {
				img_ptr = &radio_button->img_on_disable;
			} else {
				img_ptr = &radio_button->img_off_disable;
			}
			break;
		default:return;
		} 
		PictureBox_SetImage(radio_button->imgbox, img_ptr);
	}

	_LCUIString_Copy( &widget->style_name, "default" );
	if( !widget->enabled ) {
		widget->state = WIDGET_STATE_DISABLE;
	}
	switch(widget->state) {
	case WIDGET_STATE_NORMAL:
		if(radio_button->on) {
			img_id = IMG_ON_NORMAL;
		} else {
			img_id = IMG_OFF_NORMAL;
		}
		break;
	case WIDGET_STATE_OVERLAY :
		if(radio_button->on) {
			img_id = IMG_ON_SELECTED;
		} else {
			img_id = IMG_OFF_SELECTED;
		}
		break;
	case WIDGET_STATE_ACTIVE :
	case WIDGET_STATE_DISABLE :
	default: return;
	}
	img_ptr = PictureBox_GetImage( radio_button->imgbox );
	Graph_Free( img_ptr );
	img_ptr = (LCUI_Graph*)calloc( 1, sizeof(LCUI_Graph) );
	RadioButton_LoadDefaultGraph( img_ptr, img_id );
	PictureBox_SetImage( radio_button->imgbox, img_ptr );
}

/* 获取单选框部件中的label部件的指针 */
LCUI_API LCUI_Widget*
RadioButton_GetLabel( LCUI_Widget *widget )
{
	LCUI_RadioButton *radio_button;
	
	radio_button = Widget_GetPrivData(widget); 
	if( !radio_button ) {
		return NULL;
	}
	return radio_button->label;
}

/* 获取单选框部件中的PictureBox部件的指针 */
LCUI_API LCUI_Widget*
RadioButton_GetImgBox( LCUI_Widget *widget )
{
	LCUI_RadioButton *radio_button;
	
	radio_button = Widget_GetPrivData(widget); 
	if( !radio_button ) {
		return NULL;
	}
	return radio_button->imgbox;
}

/* 设定与单选框部件关联的文本内容 */
LCUI_API void
RadioButton_Text( LCUI_Widget *widget, const char *text )
{
	LCUI_Widget *label;
	label = RadioButton_GetLabel(widget);
	Label_SetText(label, text); 
}

LCUI_API void
RadioButton_TextW( LCUI_Widget *widget, const wchar_t *text )
{
	LCUI_Widget *label;
	label = RadioButton_GetLabel(widget);
	Label_SetTextW(label, text); 
}

/* 创建一个带文本内容的单选框 */
LCUI_API LCUI_Widget*
RadioButton_New( const char *text )
{
	LCUI_Widget *widget;
	widget = Widget_New("radio_button");
	RadioButton_Text(widget, text);
	return widget;
}

/* 注册单选框部件类型 */
LCUI_API void
Register_RadioButton(void)
{
	/* 添加几个部件类型 */
	WidgetType_Add("radio_button"); 
	
	/* 为部件类型关联相关函数 */ 
	WidgetFunc_Add("radio_button",	RadioButton_Init, FUNC_TYPE_INIT);
	WidgetFunc_Add("radio_button", RadioButton_ExecUpdate, FUNC_TYPE_DRAW); 
	WidgetFunc_Add("radio_button", RadioButton_ExecUpdate, FUNC_TYPE_UPDATE); 
}
